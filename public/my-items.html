<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1976d2">
  <title>資産管理 - 拠点資産シェアシステム</title>
  
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/css/style.css">
  
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <script src="https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
  <header class="header">
    <div class="container header-content">
      <div class="header-title">📋 資産管理</div>
      <button onclick="location.href='/home.html'" class="btn" style="margin: 10px 0; background: white; color: #1976d2; border: 2px solid #1976d2; font-weight: 500; font-size: 14px;">🏠 ホームに戻る</button>
      <button onclick="exportToCSV()" class="btn" style="margin: 10px 0; background: #4caf50; color: white; font-weight: 500; font-size: 14px;">📥 CSV出力</button>
    </div>
  </header>

  <main class="container main-content">

    <!-- 検索・フィルター -->
    <div class="form-container" style="margin-bottom: 20px;">
      <div class="form-group">
        <input type="text" id="searchBox" placeholder="🔍 資産名で検索..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px;">
      </div>
      <div style="display: flex; gap: 10px;">
        <select id="categoryFilter" style="flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px;">
          <option value="">すべての分類</option>
          <option value="PC・IT機器">PC・IT機器</option>
          <option value="机">机</option>
          <option value="椅子">椅子</option>
          <option value="事務用品・備品">事務用品・備品</option>
          <option value="什器等">什器等</option>
          <option value="媒体">媒体</option>
          <option value="デポ備品">デポ備品</option>
          <option value="その他">その他</option>
        </select>
        <select id="statusFilter" style="flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px;">
          <option value="">すべて</option>
          <option value="available">公開中</option>
          <option value="unavailable">非公開</option>
        </select>

    <!-- 一括操作 -->
    <div id="bulkActions" style="display: none; background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
      <button onclick="bulkDelete()" class="btn" style="background: #f44336; color: white; margin-right: 10px;">選択した資産を削除</button>
      <button onclick="bulkToggleStatus()" class="btn" style="background: #1976d2; color: white; margin-right: 10px;">公開/非公開を切り替え</button>
      <button onclick="clearSelection()" class="btn" style="background: #999; color: white;">選択をクリア</button>
      <span id="selectedCount" style="margin-left: 15px; font-weight: bold;">0件選択中</span>
    </div>
      </div>
    </div>
    <div id="loading" style="text-align: center; padding: 2rem;">
      <p>読み込み中...</p>
    </div>
    
    <div id="content" style="display: none;">
      <div id="assetList"></div>
      <div id="noItems" style="display: none; text-align: center; padding: 4rem 2rem; color: #666;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">📦</div>
        <p>登録された資産がありません</p>
      </div>
    </div>
  </main>

  <nav class="bottom-nav">
    <a href="/home.html" class="nav-item"><span class="nav-icon">🏠</span><span>ホーム</span></a>
    <a href="/asset-register.html" class="nav-item"><span class="nav-icon">➕</span><span>登録</span></a>
  </nav>

  <script src="/js/config.js"></script>
  <script src="/js/common.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/my-items.js"></script>
</body>
</html>
