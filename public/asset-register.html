<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>資産登録</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <h1>📦 資産登録</h1>
    <button onclick="location.href='/home.html'" class="btn" style="margin: 10px 0; background: #666;">← ホームに戻る</button>
    
    <form id="registerForm">
      <!-- 写真アップロード方法選択 -->
      <div class="form-group">
        <label>📷 写真アップロード方法</label>
        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
          <button type="button" id="cameraBtn" class="btn-secondary">📸 カメラで撮影</button>
          <button type="button" id="fileBtn" class="btn-secondary">📁 ファイルから選択</button>
        </div>
        <input type="file" id="cameraInput" accept="image/jpeg,image/jpg,image/png" capture="environment" multiple style="display:none">
        <input type="file" id="fileInput" accept="image/jpeg,image/jpg,image/png" multiple style="display:none">
        
        <!-- ドラッグ&ドロップエリア -->
        <div id="dropArea" style="border: 2px dashed #ccc; padding: 20px; text-align: center; border-radius: 8px; background: #f9f9f9; display: none;">
          ここに画像をドラッグ&ドロップ<br>または上のボタンで選択
        </div>
        
        <!-- プレビュー表示 -->
        <div id="imagePreview" style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;"></div>
        <small style="color: #666;">最大5枚まで選択可能</small>
      </div>

      <div class="form-group">
        <label for="assetName">資産名 <span style="color:red;">*</span></label>
        <input type="text" id="assetName" required>
      </div>

      <div class="form-group">
        <label for="quantity">数量 <span style="color:red;">*</span></label>
        <input type="number" id="quantity" min="1" value="1" required>
      </div>

      <div class="form-group">
        <label for="largeCategory">大分類 <span style="color:red;">*</span></label>
        <select id="largeCategory" required>
          <option value="">選択してください</option>
          <option value="PC・IT機器">PC・IT機器</option>
          <option value="机">机</option>
          <option value="椅子">椅子</option>
          <option value="事務用品・備品">事務用品・備品</option>
          <option value="什器等">什器等</option>
          <option value="媒体">媒体</option>
          <option value="デポ備品">デポ備品</option>
          <option value="その他">その他</option>
        </select>
      </div>

      <div class="form-group">
        <label for="mediumCategory">中分類 <span style="color:red;">*</span></label>
        <select id="mediumCategory" required disabled>
          <option value="">大分類を選択してください</option>
        </select>
      </div>

      <div class="form-group">
        <label>サイズ (cm)</label>
        <div style="display: flex; gap: 10px;">
          <input type="number" id="width" placeholder="幅" style="flex: 1;">
          <span style="line-height: 40px;">×</span>
          <input type="number" id="depth" placeholder="奥行" style="flex: 1;">
          <span style="line-height: 40px;">×</span>
          <input type="number" id="height" placeholder="高さ" style="flex: 1;">
        </div>
      </div>

      <div class="form-group">
        <label for="memo">メモ</label>
        <textarea id="memo" rows="3"></textarea>
      </div>

      <button type="submit" id="submitBtn" class="btn-primary">登録する</button>
    </form>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <script src="/js/config.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/select-base-modal.js"></script>
  <script src="/js/asset-register-improved.js"></script>
</body>
</html>
